<!--
  Generated template for the Profile page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Profile</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div text-center padding *ngIf="loadingMessages && !errorMessage">
    <ion-spinner></ion-spinner>
  </div>
  <ion-card [@fadeInLeft] padding *ngIf="!loadingMessages && !errorMessage">
    <ion-item>
      <ion-avatar item-left>
        <img src="{{userAvatar}}">
      </ion-avatar>
      <h2>{{user.email}}</h2>
      <p>{{user.createdAt | date:'short'}}</p>
      <button ion-button color="danger" (click)="logout()" *ngIf="showLogOut">Logout</button>
    </ion-item>
  </ion-card>

  <ion-card [@fadeInRight]>
    <ion-list *ngIf="!loadingMessages && !errorMessage">
      <ion-card *ngFor="let item of userMessages">
        <ion-item>On {{item.createdAt | date:'short'}} {{author}} wrote:</ion-item>
        <ion-card (click)="showMessage(item)">{{item.text}}</ion-card>
        <ion-item> <button ion-button (click)="like(item.id)"> <ion-badge class="likes" item-right>{{item.likes.length}}
                <ion-icon name="happy" color="red"></ion-icon>
              </ion-badge></button></ion-item>

      </ion-card>
    </ion-list>
  </ion-card>
</ion-content>